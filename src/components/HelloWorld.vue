<template>
  <div class="box">
    <div class="login">
      <form action="https://dev.studo.rtuitlab.ru/api/auth/login" method="post"><svg version="1.1" viewBox="0 0 819.83 825.27" class="logo svg-icon svg-fill" style="height: 230px;"><g data-name="Слой 2"><path pid="0" d="M819.83 413.09c-1.21 235.06-193.17 418.35-421.31 412C179.73 819.12-2.94 638.56 0 407 3 175.53 193.09-5.2 419.59.11 637 5.24 819 183.06 819.83 413.09zm-636.89-10c17 18.41 21.11 38.21 11.51 60.09-2.36 5.41.18 7.37 3.5 10.19a468.9 468.9 0 0 0 106 67.89c71.74 33.57 147.44 46.5 226.3 42.22 13.43-.75 24.79-1.21 28-19.44 1.63-9.13 12.57-16.69 19.58-24.72 1.76-2 4.58-3.12 7.06-4.75-26.25-112.67-83.57-205.11-173.5-277.13-26.7 18.27-48.39 17.15-73.89-4.44a476.52 476.52 0 0 0-154.56 150.11zm395.69 225.59c-6.82-8.24-12.65-15.68-19-22.69a9.58 9.58 0 0 0-7.06-2.72 480 480 0 0 1-139.33-4.55c-86.2-15.35-162.41-52-229-108.62-5.49-4.64-9.27-5.18-15.8-2.51a50.25 50.25 0 0 1-21.34 3.59c-7.67-.48-10.3 2.38-12.7 9a505.72 505.72 0 0 0-27.16 121.09 19.52 19.52 0 0 0 3.28 12.28 357.07 357.07 0 0 0 82.39 82.37q117.79 83.83 261.64 67.87c19.84-2.17 35.56-7.41 48.63-24.56 31.13-40.92 57.6-84.09 75.45-130.55zm70.83-70.13c38.86-13.43 74.84-32.35 109.09-54.77 10.58-6.92 16.26-15 17.06-27.44.64-9.82 2.71-19.57 3.61-29.4 7.68-82.52-10.57-159.12-53.19-230a15.89 15.89 0 0 0-7.33-6.94 427.33 427.33 0 0 0-128.58-22.49c-2 0-5.12.51-5.91 1.92-4.3 7.38-8.21 15-11.76 22.77-.68 1.5.46 4.19 1.42 6 50.35 94.84 68.22 195.74 54.75 302-1.39 10.94-1.75 19.33 9.59 25.22 4.45 2.25 7.06 8.03 11.25 13.13zM148.67 159.39c-5.65 1.92-13.13 2.21-16.66 6.09a345.24 345.24 0 0 0-67.46 110.34 17.77 17.77 0 0 0-.36 11.65 442 442 0 0 0 58.18 104.13c1.48 1.92 6.15 2.45 9.22 2.22 7.23-.51 14.66-3.51 21.55-2.47 8.34 1.25 12.55-1.11 17-7.87A488.08 488.08 0 0 1 315.45 241c7.94-5.06 15.47-8.92 11-20.28a10 10 0 0 1 .43-6.58c2.66-6.8-.66-9.6-6.41-12.23-54.47-24.8-111.47-38.24-171.8-42.52zm347.78-15.67A485.37 485.37 0 0 0 377.61 42.91a15.3 15.3 0 0 0-9-1.57 361.25 361.25 0 0 0-174.71 67.35c-12.42 9-24 19.06-36 28.64a521.61 521.61 0 0 1 180.52 48.74c25.39-23.34 52.62-22.84 76.45.21a12.08 12.08 0 0 0 9.6 2.36c14.85-3.59 29.4-8.56 44.33-11.71 9.94-2.11 17.73-4.16 19.09-16.46.69-5.57 5.32-10.67 8.54-16.81zM605.84 524c.82-5.1 1.69-9.13 2.15-13.22a495.85 495.85 0 0 0-3.69-136.5A470.75 470.75 0 0 0 555.48 231a9.58 9.58 0 0 0-8-3.83c-26.73 4.39-44.14-3.61-58-26.6a10.22 10.22 0 0 0-8.68-3.55c-12.47 2.51-24.71 6.16-37.13 8.94-10.57 2.38-19.61 5.45-17 19.38a13.06 13.06 0 0 1-1.52 7.43c-2.42 5.16 0 7.68 3.84 10.92a495.8 495.8 0 0 1 152.32 207.63c9.14 23.3 16.05 47.49 24.45 72.69zM415.66 39.49c.83 1.46 1 2.17 1.46 2.48A519.63 519.63 0 0 1 511.57 127c1.75 2 6.64 2.67 9.6 2 26.06-5.76 48.59 5 59.59 29.59 2.43 5.41 5.5 6.39 10.8 6.77 19.08 1.38 38.17 2.86 57.11 5.45 16.89 2.3 33.56 6.12 50.64 9.33C635.91 94.42 522 38.5 415.66 39.49zm-329 557.62c1.36-1.92 1.92-2.34 2-2.9a540.17 540.17 0 0 1 28.14-109 7.54 7.54 0 0 0-1.58-6.39c-19.76-21.11-20.82-43.91-7.67-66.52-19.17-32.24-37.81-63.46-57-95.56-23.61 98-12.48 190.94 36.11 280.37zm674.75-67.57A599 599 0 0 1 658.88 579a9.57 9.57 0 0 0-4.64 7c-1.92 20.43-12.46 34.54-30.71 42.77-4.64 2.09-5.95 4.38-6.06 9.18-.37 17.27-1 34.54-1.92 51.71-.73 11.67-2.36 23.28-3.84 37 72.94-49.57 122.84-114.37 149.7-197.12zM527.73 768.21c16.7-7.49 33.66-15.45 50.95-22.68 6.53-2.73 9.12-7.14 10-13.57 1.77-13.28 4.15-26.5 5.43-39.84 1.37-14 1.77-28 2.52-40.74z" data-name="Слой 1"></path></g></svg>
        <br>
        <input placeholder="Username" v-model="Email" name="Email" type="text"> <br>
        <input placeholder="Password" v-model="Password" name="Password" type="password"> <br>
        <button type="submit" @click="handleSubmit">
          Login
        </button>
        <router-link to="/Register">Регистрация</router-link>
        <router-link class="erg" to="/PassForgot">Забыл пароль</router-link>
      </form>
    </div>
  </div>
</template>
<script>
    import router from "@/router";
    import store from '@/main';
  import axios from 'axios';
  export default {
    name: 'HelloWorld',
    data(){
      return {
        Email : "",
        Password : ""
      }
    },
methods : {
  handleSubmit(e){
    e.preventDefault()
      axios({
      method: 'post',
      url: 'https://dev.studo.rtuitlab.ru/api/auth/login',
      data: {
        email: this.Email,
        password: this.Password
      }
    })
    .then(({ data }) => {
        if (data.accessToken!=null)
        {
            this.$store.commit("SET_USER", data.user);
            this.$store.commit("SET_ACCESSTOKEN", data.accessToken);
            this.$store.getters.USER;
            router.push("/Logged");
        }
    });
  }
}
}
</script>

<!-- Add "scoped" attribute to limit CSS to this component only -->
<style scoped>
  .login
  {
    padding: 10px;
    margin-top: 100px;
    margin-bottom: 200px;
  }
  .login form
  {
    margin: 0
  }
  .login form input{
    width: 100%;
    height: 30px;
    margin-bottom: 10px;
    border-radius: 5px;
  }
  .login svg {
    margin-bottom: 25px;
    margin-left: 5%;
  }
  .box
  {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
    background-color: beige;
  }
  button
  {
    background-color: coral;
    color: white;
    width: 100%;
    height: 30px;
    border-radius: 40px;
  }
  button:hover
  {
    box-shadow: darkred 3px 3px 0px 0px;
  }
  .erg:last-child
  {
    float: right;
  }
  a:active
  {
    color: darkred;
  }
  a:hover
  {
    color: crimson;
  }
  a
  {
    color: darkred;
  }
</style>
